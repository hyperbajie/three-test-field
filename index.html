<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <div class="itemlist">
    </div>
    <iframe class="showcase" src="./blank.html" frameborder="0"></iframe>

    <script type="module">
        import { Config } from "./index.js";
        const container = document.querySelector(".itemlist");
        const fra = document.createDocumentFragment();
        for(let i = 0 ; i < Config.length ; i ++) {
            let obj = Config[i];
            let item = document.createElement("div");
            item.innerText = obj.name;
            item.addEventListener("click", function() {
                setIframeSrc(obj)
            });
            item.classList.add("item")
            fra.appendChild(item);
        }
        container.appendChild(fra);
        let iframe = null;
        function setIframeSrc(obj) {
            if (!iframe) {
                iframe = document.querySelector("iframe");
            }
            iframe.src = obj.path;
        }
    </script>
</body>

</html>